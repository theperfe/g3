<html><head><title>Permutations</title>
<script src="//ajax.googleapis.com/ajax/libs/mootools/1.4.5/mootools-yui-compressed.js"></script>
</head>
<body><pre id="result"></pre>
<script type="text/javascript">
 
function permutations(list){
  if(list.length==0) return [[]];
  if(list.length==1) return [list];
  var perms = permutations(list.slice(1));
  var result = [];
  for(var i in perms){
    for(var j=0; j<perms[i].length+1; j++){
      var temp = [];
      temp = perms[i].slice(0,j);
      temp.push(list[0]);
      temp = temp.concat(perms[i].slice(j));
      result.push(temp);
      }
  }
  return result;
}

function combinations(l, r){
  if(r==0) return [[]];
  else if(l.length == r) return [l];
  else if(l.length < r) {console.log("error: r > n"); return;}
  else{
    var large_arr = [];
    var comb = combinations(l.slice(1), r);
    large_arr = large_arr.concat(comb);
    var comb = combinations(l.slice(1), r-1);
    for(var c=0; c<comb.length; c++){
     var arr = [];
     arr.push(l[0]);
     arr = arr.concat(comb[c]);
     large_arr.push(arr);
    }
    return large_arr;
  }
}


function permutations_with_repetitions(input_arr, output_arr_dimension){
  var output = [];
  if(input_arr.length == 0 || output_arr_dimension == 0) return [[]];
  var current_output = [], current_combo = [], max_symbol_index = input_arr.length - 1, current_index = 0;
  for(var i=0; i<output_arr_dimension + 1; i++){	//the last bit is to put an end to the process
    current_combo.push(0);	//initiating it with zeros
  }
  while(current_combo[current_combo.length-1] == 0){
    current_output = [];
    //push the current output into the output array
    for(var i=0; i<output_arr_dimension; i++){
      current_output[i] = input_arr[current_combo[i]];
    }
    output.push(current_output);

    //move to next combination
    while(current_index <= (output_arr_dimension+1) && current_combo[current_index] == max_symbol_index){
      current_combo[current_index] = 0;
      ++current_index;
    }
    if(current_index <= output_arr_dimension+1) ++current_combo[current_index];
    current_index = 0;
  }
  return output;
}
 
var output = combinations(["H", "Z", "T", "N", "A", "B", "E", "I", "J", "K"],4);
 console.log(JSON.stringify(output));

</script></body></html>
